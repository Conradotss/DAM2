extends ../layout/admin

block contenido 
    div(class="py-10") 
        
        if proyectos.length
            h1(class="text-white text-5xl font-extrabold italic text-center mt-4 mb-14")= "Mis proyectos"
            form(action="/mis-proyectos", method="get")
                input(type="text", name="busqueda", placeholder="Buscar proyecto")
                button(type="submit") Buscar
            div(class="flex flex-wrap justify-start")
                each proyecto in proyectos
                    div(class="card w-64 bg-base-100 shadow-xl hover:cursor-pointer hover:scale-105 hover:shadow-2xl m-4 transition-all duration-500 ease-in-out")  
                        figure 
                            a(href=`/proyecto/${proyecto.id}`) 
                                img(src="/img/portada.jpg", alt="Proyecto")
                        div(class="card-body p-4")
                            h2(class="card-title font-bold text-center mb-4")= proyecto.titulo
                            p(class="font-bold text-lg italic")= "Tecnolog√≠a: " + proyecto.tecnologia

                            div(class="flex flex-wrap justify-around mt-4")
                                div(class="card-actions justify-end")
                                    a(href=`/proyecto/editar/${proyecto.id}`) 
                                        button(class="btn w-20 bg-green-500 text-white") Editar
                                div(class="card-actions justify-end ")
                                    form(action=`/proyecto/eliminar/${proyecto.id}`, method="POST")
                                        input(type="hidden", name="_csrf", value=csrfToken) 
                                        button(class="btn w-20 bg-red-500 text-white") Eliminar

            div(class="bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6")
                    div(class="sm:flex-1 sm:flex sm:items-center sm:justify-between")
                        p(class="text-sm text-gray-700 gap-2") Mostrando&nbsp;
                            span(class="font-medium") #{offset + 1}&nbsp;a&nbsp;
                            span(class="font-medium") #{total < limite + offset ? total : limite + offset}&nbsp;de&nbsp;
                            span(class="font-medium") #{total}&nbsp;resultados
                    div 
                        nav(class="relative z-0 inline-flex rounded-md shadow-md")
                            - var n = 1;
                                while n <= paginas
                                    a(href=`/mis-proyectos?pagina=${n}`, class=`${paginaActual == n ? 'bg-indigo-50 border-indigo-500 text-indigo-600' : 
                                    `bg-white border-gray-300 text-gray-500 hover:bg-gray-50 `} relative inline-flex items-center px-4 py-2 border text-sm
                                    font-medium`) #{n++}
  
                
        else
            h1(class="text-white text-5xl font-extrabold italic text-center mt-4 mb-14")= estado

        //-pre #{JSON.stringify(proyectos, null, 2)}